(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{9344:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return t(6250)}])},6666:function(e,a,t){"use strict";t.d(a,{Z:function(){return u}});var s=t(5893),l=t(5188),r=t.n(l),o=t(9583),i=()=>(0,s.jsxs)("div",{className:r().contactUs,children:[(0,s.jsx)("h2",{children:"تابعنا"}),(0,s.jsxs)("ul",{className:r().social,style:{paddingLeft:"80px"},children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"https://www.facebook.com/",children:(0,s.jsx)(o.tBk,{})})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"https://www.instagram.com/",children:(0,s.jsx)(o.Zf_,{})})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"https://youtube.com/",children:(0,s.jsx)(o.V2E,{})})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"https://twitter.com/",children:(0,s.jsx)(o.fWC,{})})})]}),(0,s.jsxs)("ul",{className:r().download,children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"https://appgallery.huawei.com/",children:(0,s.jsx)("img",{src:"/images/app-gallery.png",alt:"app gallery"})})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"https://play.google.com/store/games",children:(0,s.jsx)("img",{src:"/images/google-play.png",alt:"Google play"})})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"https://www.apple.com/eg/app-store/",children:(0,s.jsx)("img",{src:"/images/app-store.png",alt:"App Store"})})})]})]}),n=t(165),c=t.n(n),d=t(4856),h=t.n(d),p=()=>(0,s.jsxs)("div",{className:h().footerInfo,children:[(0,s.jsx)("div",{children:"هذا النص هو مثال لنص يمكن أن يستبدل في نفس المساحة، لقد تم توليد هذا النص من مولد النص العربى من مولد النص العربى"}),(0,s.jsx)("div",{children:"هذا النص هو مثال لنص يمكن أن يستبدل في نفس المساحة، لقد تم توليد هذا النص من مولد النص العربى من مولد النص العربى"}),(0,s.jsx)("div",{children:"هذا النص هو مثال لنص يمكن أن يستبدل في نفس المساحة، لقد تم توليد هذا النص من مولد النص العربى من مولد النص العربى"}),(0,s.jsx)("div",{children:"هذا النص هو مثال لنص يمكن أن يستبدل في نفس المساحة، لقد تم توليد هذا النص من مولد النص العربى من مولد النص العربى"})]}),u=()=>(0,s.jsxs)("div",{className:c().footer,children:[(0,s.jsx)(p,{}),(0,s.jsx)(i,{})]})},458:function(e,a,t){"use strict";var s=t(5893),l=t(1163),r=t(7294),o=t(5533),i=t.n(o),n=t(8193);a.Z=()=>{let[e,a]=(0,r.useState)(!1),[t,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(""),{push:h,reload:p}=(0,l.useRouter)();(0,r.useEffect)(()=>{if(localStorage.getItem("token")){a(!0);let e=async()=>{var e=new Headers;e.append("Authorization","Bearer "+localStorage.token);try{let a=await fetch("http://localhost:3001/users/profilePic",{method:"GET",headers:e,redirect:"follow"});if(200===a.status){let e=await a.json();if(e.profilePic){let a="data:image/jpeg;base64,"+e.profilePic;o(a)}}}catch(e){console.log(e)}};e()}else a(!1)},[]);let u=()=>{h("/search/"+c)};return(0,s.jsxs)("div",{className:i().searchDivWrapper,children:[(0,s.jsx)("div",{className:i().title,children:(0,s.jsx)("a",{href:"/",children:(0,s.jsxs)("p",{style:{color:"#009C41",fontSize:"40px",fontWeight:"bolder"},children:[" ","المزرعة"," "]})})}),(0,s.jsxs)("div",{className:i().search,children:[(0,s.jsx)("span",{className:i().searchButton,onClick:u,children:(0,s.jsx)(n.RB5,{style:{width:"5%",height:"50%",position:"absolute",left:"13%",top:"25%"}})}),(0,s.jsx)("input",{type:"text",className:i().searchInput,value:c,onChange:e=>d(e.target.value),placeholder:"إبحث عن منتج",onKeyUp:e=>{13===e.keyCode&&u()}})]}),(0,s.jsx)("div",{className:i().icon,children:e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"dropdown",children:[(0,s.jsx)("img",{src:t||"/images/user.png",style:{width:"50px",height:"50px",borderRadius:"50%"},alt:"Man",className:"dropdown-toggle",type:"button","data-bs-toggle":"dropdown"}),(0,s.jsxs)("ul",{className:"dropdown-menu ".concat(i().dropdown),children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{className:"dropdown-item",href:"/profile",children:"الصفحة الشخصية"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{className:"dropdown-item",href:"/my-products",children:"منتجاتى"})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{className:"dropdown-item",onClick:()=>{localStorage.clear(),h("/login")},children:"تسجيل الخروج"})})]})]}),(0,s.jsx)("a",{href:"/add-product",children:(0,s.jsx)("img",{className:i().plusSign,src:"/images/plus.png",alt:"Add Product"})})]}):(0,s.jsx)("a",{href:"/login",className:i().logout,children:"تسجيل الدخول"})})]})}},4743:function(e,a,t){"use strict";var s=t(5893),l=t(7294),r=t(1589),o=t.n(r);a.Z=()=>{let[e,a]=(0,l.useState)([]);return(0,l.useEffect)(()=>{let e=async()=>{try{let e=await fetch("http://localhost:3001/categories/allCategories",{method:"GET",redirect:"follow"});if(200===e.status){let t=await e.json();a(t.categories)}}catch(e){console.error(e)}};e()},[]),(0,s.jsx)("div",{className:o().navList,children:(0,s.jsx)("ul",{children:e.map(e=>(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"/category/".concat(e.id),children:e.categoryNameArabic})},e.id))})})}},6250:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return x}});var s=t(5893),l=t(6666),r=t(458),o=t(4743),i=t(2485),n=t.n(i),c=t(7294),d=t(6154),h=()=>{let[e,a]=(0,c.useState)({}),[t,l]=(0,c.useState)(null),[r,o]=(0,c.useState)(!1),[i,h]=(0,c.useState)("");(0,c.useEffect)(()=>{let e=async()=>{var e=new Headers;e.append("Authorization","Bearer "+localStorage.token);try{let t=await fetch("http://localhost:3001/users/profile",{method:"GET",headers:e,redirect:"follow"});if(200===t.status){let e=await t.json();a(e.profileDetails)}}catch(e){console.error(e)}},t=async()=>{var e=new Headers;e.append("Authorization","Bearer "+localStorage.token);try{let a=await fetch("http://localhost:3001/users/profilePic",{method:"GET",headers:e,redirect:"follow"});if(200===a.status){let e=await a.json();if(e.profilePic){let a="data:image/jpeg;base64,"+e.profilePic;l(a)}}}catch(e){console.log(e)}};e(),t()},[]);let p=e=>new Promise((a,t)=>{let s=new FileReader;s.readAsDataURL(e),s.onload=()=>a(s.result),s.onerror=t}),u=async e=>{o(!0),e.preventDefault(),console.log(e.target.files[0]);try{let a=await p(e.target.files[0]),t=JSON.stringify({profilePic:a});console.log(a);let s={method:"put",url:"http://localhost:3001/users/profilePic",headers:{Authorization:"Bearer "+localStorage.token,"Content-Type":"application/json"},data:t},l=await (0,d.Z)(s);200===l.status&&window.location.reload(!1)}catch(e){console.error(e)}o(!1)},f=async a=>{o(!0),a.preventDefault();var t=new Headers;t.append("Authorization","Bearer "+localStorage.token),t.append("Content-Type","application/json");var s=JSON.stringify(e);try{let e=await fetch("http://localhost:3001/users/profile",{method:"PUT",headers:t,body:s,redirect:"follow"});200===e.status?window.location.reload(!1):h("لم يتم التعديل، يرجى مراجعة البيانات مرة أخرى")}catch(e){console.error(e)}o(!1)};return(0,s.jsxs)("div",{className:n().profileDetails,children:[r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"loading-overlay"}),(0,s.jsx)("div",{className:"loading-overlay-image-container",children:(0,s.jsx)("img",{src:"/images/loading.gif",className:"loading-overlay-img",alt:"Loading GIF"})})]}),(0,s.jsxs)("div",{className:n().profileContainer,children:[(0,s.jsx)("img",{src:t||"/images/user.png",alt:"profile Pic"}),(0,s.jsx)("p",{children:"تحميل صورة شخصية"}),(0,s.jsx)("label",{for:"upload",className:n().upload,children:"تحميل"}),(0,s.jsx)("input",{onChange:u,className:n().upload,type:"file",id:"upload",name:"upload",accept:"image/jpeg, image/png",style:{display:"none"}})]}),(0,s.jsxs)("div",{className:n().form,children:[(0,s.jsxs)("div",{className:n().inputContainer,children:[(0,s.jsx)("label",{className:n().label,children:"اسم المستخدم"}),(0,s.jsx)("input",{className:n().inputs,type:"text",placeholder:"اسم المستخدم",value:e.username,onChange:t=>a({...e,username:t.target.value})})]}),(0,s.jsxs)("div",{className:n().inputContainer,children:[(0,s.jsx)("label",{className:n().label,children:"الاسم الكامل"}),(0,s.jsx)("input",{className:n().inputs,type:"text",placeholder:"الاسم الكامل",value:e.name,onChange:t=>a({...e,name:t.target.value})})]}),(0,s.jsxs)("div",{className:n().inputContainer,children:[(0,s.jsx)("label",{className:n().label,children:"رقم المحمول"}),(0,s.jsx)("input",{className:n().inputs,type:"text",placeholder:"رقم المحمول",value:e.phoneNumber,onChange:t=>a({...e,phoneNumber:t.target.value})})]}),(0,s.jsxs)("div",{className:n().inputContainer,children:[(0,s.jsx)("label",{className:n().label,children:"الموقع"}),(0,s.jsx)("input",{className:n().inputs,type:"text",placeholder:" الموقع",value:e.location,onChange:t=>a({...e,location:t.target.value})})]}),(0,s.jsx)("div",{className:n().inputContainer,children:(0,s.jsx)("button",{className:n().editButton,onClick:f,children:"تعديل"})}),(0,s.jsx)("p",{className:n().message,children:i})]})]})},p=t(9008),u=t.n(p),f=t(1163),x=()=>{let{push:e,reload:a}=(0,f.useRouter)();return(0,c.useEffect)(()=>{null==localStorage.getItem("token")&&e("/login")},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u(),{children:(0,s.jsx)("title",{children:"المزرعة - الصفحة الشخصية"})}),(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsx)(r.Z,{}),(0,s.jsx)(o.Z,{}),(0,s.jsx)(h,{}),(0,s.jsx)("hr",{}),(0,s.jsx)(l.Z,{}),(0,s.jsx)("div",{style:{height:"60px",backgroundColor:"#007C21"}})]})]})}},5188:function(e){e.exports={contactUs:"ContactUs_contactUs__mqkMo",social:"ContactUs_social__WoSS5",download:"ContactUs_download__GbXgB"}},165:function(e){e.exports={footer:"Footer_footer__1IwEk"}},4856:function(e){e.exports={footerInfo:"FooterInfo_footerInfo__549ci"}},5533:function(e){e.exports={searchDivWrapper:"NavBar_searchDivWrapper__0SlMw",title:"NavBar_title__suKCP",search:"NavBar_search___IMT9",searchInput:"NavBar_searchInput__aSTaK",icon:"NavBar_icon__r0iRw",logout:"NavBar_logout__LAmZa",plusSign:"NavBar_plusSign__ejm_l",dropdown:"NavBar_dropdown__dnDto",searchButton:"NavBar_searchButton__XdqwS"}},1589:function(e){e.exports={navList:"NavList_navList__oqC8t"}},2485:function(e){e.exports={profileDetails:"ProfileDetails_profileDetails__CHk2n",form:"ProfileDetails_form__ilVZs",profileContainer:"ProfileDetails_profileContainer__ka0og",inputs:"ProfileDetails_inputs__oa5RU",label:"ProfileDetails_label__HpNKj",upload:"ProfileDetails_upload__rZHHJ",editButton:"ProfileDetails_editButton__2_Qwd",message:"ProfileDetails_message__k9yIX"}}},function(e){e.O(0,[445,617,835,774,888,179],function(){return e(e.s=9344)}),_N_E=e.O()}]);