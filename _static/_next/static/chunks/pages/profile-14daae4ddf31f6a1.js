(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{9344:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return s(6250)}])},6666:function(e,a,s){"use strict";s.d(a,{Z:function(){return u}});var t=s(5893),l=s(5188),i=s.n(l),r=s(9583),o=()=>(0,t.jsxs)("div",{className:i().contactUs,children:[(0,t.jsx)("h2",{children:"تابعنا"}),(0,t.jsxs)("ul",{className:i().social,style:{paddingLeft:"80px"},children:[(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"https://www.facebook.com/",children:(0,t.jsx)(r.tBk,{})})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"https://www.instagram.com/",children:(0,t.jsx)(r.Zf_,{})})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"https://youtube.com/",children:(0,t.jsx)(r.V2E,{})})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"https://twitter.com/",children:(0,t.jsx)(r.fWC,{})})})]}),(0,t.jsxs)("ul",{className:i().download,children:[(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"https://appgallery.huawei.com/",children:(0,t.jsx)("img",{src:"/images/app-gallery.png",alt:"app gallery"})})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"https://play.google.com/store/games",children:(0,t.jsx)("img",{src:"/images/google-play.png",alt:"Google play"})})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"https://www.apple.com/eg/app-store/",children:(0,t.jsx)("img",{src:"/images/app-store.png",alt:"App Store"})})})]})]}),n=s(165),c=s.n(n),d=s(4856),p=s.n(d),h=()=>(0,t.jsxs)("div",{className:p().footerInfo,children:[(0,t.jsx)("div",{children:"هذا النص هو مثال لنص يمكن أن يستبدل في نفس المساحة، لقد تم توليد هذا النص من مولد النص العربى من مولد النص العربى"}),(0,t.jsx)("div",{children:"هذا النص هو مثال لنص يمكن أن يستبدل في نفس المساحة، لقد تم توليد هذا النص من مولد النص العربى من مولد النص العربى"}),(0,t.jsx)("div",{children:"هذا النص هو مثال لنص يمكن أن يستبدل في نفس المساحة، لقد تم توليد هذا النص من مولد النص العربى من مولد النص العربى"}),(0,t.jsx)("div",{children:"هذا النص هو مثال لنص يمكن أن يستبدل في نفس المساحة، لقد تم توليد هذا النص من مولد النص العربى من مولد النص العربى"})]}),u=()=>(0,t.jsxs)("div",{className:c().footer,children:[(0,t.jsx)(h,{}),(0,t.jsx)(o,{})]})},458:function(e,a,s){"use strict";var t=s(5893),l=s(1163),i=s(7294),r=s(5533),o=s.n(r),n=s(8193);a.Z=()=>{let[e,a]=(0,i.useState)(!1),[s,r]=(0,i.useState)(null),[c,d]=(0,i.useState)(""),{push:p,reload:h}=(0,l.useRouter)();(0,i.useEffect)(()=>{if(localStorage.getItem("token")){a(!0);let e=async()=>{var e=new Headers;e.append("Authorization","Bearer "+localStorage.token);try{let a=await fetch("https://amber-jellyfish-suit.cyclic.app/users/profilePic",{method:"GET",headers:e,redirect:"follow"});if(200===a.status){let e=await a.json();if(e.profilePic){let a="data:image/jpeg;base64,"+e.profilePic;r(a)}}}catch(e){console.log(e)}};e()}else a(!1)},[]);let u=()=>{p("/search/"+c)};return(0,t.jsxs)("div",{className:o().searchDivWrapper,children:[(0,t.jsx)("div",{className:o().title,children:(0,t.jsx)("a",{href:"/",children:(0,t.jsxs)("p",{style:{color:"#009C41",fontSize:"40px",fontWeight:"bolder"},children:[" ","المزرعة"," "]})})}),(0,t.jsxs)("div",{className:o().search,children:[(0,t.jsx)("span",{className:o().searchButton,onClick:u,children:(0,t.jsx)(n.RB5,{style:{width:"5%",height:"50%",position:"absolute",left:"13%",top:"25%"}})}),(0,t.jsx)("input",{type:"text",className:o().searchInput,value:c,onChange:e=>d(e.target.value),placeholder:"إبحث عن منتج",onKeyUp:e=>{13===e.keyCode&&u()}})]}),(0,t.jsx)("div",{className:o().icon,children:e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"dropdown",children:[(0,t.jsx)("img",{src:s||"/images/user.png",style:{width:"50px",height:"50px",borderRadius:"50%"},alt:"Man",className:"dropdown-toggle",type:"button","data-bs-toggle":"dropdown"}),(0,t.jsxs)("ul",{className:"dropdown-menu ".concat(o().dropdown),children:[(0,t.jsx)("li",{children:(0,t.jsx)("a",{className:"dropdown-item",href:"/profile",children:"الصفحة الشخصية"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{className:"dropdown-item",href:"/my-products",children:"منتجاتى"})}),(0,t.jsx)("li",{children:(0,t.jsx)("button",{className:"dropdown-item",onClick:()=>{localStorage.clear(),p("/login")},children:"تسجيل الخروج"})})]})]}),(0,t.jsx)("a",{href:"/add-product",children:(0,t.jsx)("img",{className:o().plusSign,src:"/images/plus.png",alt:"Add Product"})})]}):(0,t.jsx)("a",{href:"/login",className:o().logout,children:"تسجيل الدخول"})})]})}},4743:function(e,a,s){"use strict";var t=s(5893),l=s(7294),i=s(1589),r=s.n(i);a.Z=()=>{let[e,a]=(0,l.useState)([]);return(0,l.useEffect)(()=>{let e=async()=>{try{let e=await fetch("https://amber-jellyfish-suit.cyclic.app/categories/allCategories",{method:"GET",redirect:"follow"});if(200===e.status){let s=await e.json();a(s.categories)}}catch(e){console.error(e)}};e()},[]),(0,t.jsx)("div",{className:r().navList,children:(0,t.jsx)("ul",{children:e.map(e=>(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"/category/".concat(e.categoryNameArabic.split(" ").join("-")+"--ID--"+e.id),children:e.categoryNameArabic})},e.id))})})}},6250:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return m}});var t=s(5893),l=s(6666),i=s(458),r=s(4743),o=s(2485),n=s.n(o),c=s(7294),d=s(6154),p=()=>{let[e,a]=(0,c.useState)({}),[s,l]=(0,c.useState)(null),[i,r]=(0,c.useState)(!1),[o,p]=(0,c.useState)("");(0,c.useEffect)(()=>{let e=async()=>{var e=new Headers;e.append("Authorization","Bearer "+localStorage.token);try{let s=await fetch("https://amber-jellyfish-suit.cyclic.app/users/profile",{method:"GET",headers:e,redirect:"follow"});if(200===s.status){let e=await s.json();a(e.profileDetails)}}catch(e){console.error(e)}},s=async()=>{var e=new Headers;e.append("Authorization","Bearer "+localStorage.token);try{let a=await fetch("https://amber-jellyfish-suit.cyclic.app/users/profilePic",{method:"GET",headers:e,redirect:"follow"});if(200===a.status){let e=await a.json();if(e.profilePic){let a="data:image/jpeg;base64,"+e.profilePic;l(a)}}}catch(e){console.log(e)}};e(),s()},[]);let h=e=>new Promise((a,s)=>{let t=new FileReader;t.readAsDataURL(e),t.onload=()=>a(t.result),t.onerror=s}),u=async e=>{r(!0),e.preventDefault(),console.log(e.target.files[0]);try{let a=await h(e.target.files[0]),s=JSON.stringify({profilePic:a});console.log(a);let t={method:"put",url:"https://amber-jellyfish-suit.cyclic.app/users/profilePic",headers:{Authorization:"Bearer "+localStorage.token,"Content-Type":"application/json"},data:s},l=await (0,d.Z)(t);200===l.status&&window.location.reload(!1)}catch(e){console.error(e)}r(!1)},f=async a=>{r(!0),a.preventDefault();var s=new Headers;s.append("Authorization","Bearer "+localStorage.token),s.append("Content-Type","application/json");var t=JSON.stringify(e);try{let e=await fetch("https://amber-jellyfish-suit.cyclic.app/users/profile",{method:"PUT",headers:s,body:t,redirect:"follow"});200===e.status?window.location.reload(!1):p("لم يتم التعديل، يرجى مراجعة البيانات مرة أخرى")}catch(e){console.error(e)}r(!1)};return(0,t.jsxs)("div",{className:n().profileDetails,children:[i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"loading-overlay"}),(0,t.jsx)("div",{className:"loading-overlay-image-container",children:(0,t.jsx)("img",{src:"/images/loading.gif",className:"loading-overlay-img",alt:"Loading GIF"})})]}),(0,t.jsxs)("div",{className:n().profileContainer,children:[(0,t.jsx)("img",{src:s||"/images/user.png",alt:"profile Pic"}),(0,t.jsx)("p",{children:"تحميل صورة شخصية"}),(0,t.jsx)("label",{for:"upload",className:n().upload,children:"تحميل"}),(0,t.jsx)("input",{onChange:u,className:n().upload,type:"file",id:"upload",name:"upload",accept:"image/jpeg, image/png",style:{display:"none"}})]}),(0,t.jsxs)("div",{className:n().form,children:[(0,t.jsxs)("div",{className:n().inputContainer,children:[(0,t.jsx)("label",{className:n().label,children:"اسم المستخدم"}),(0,t.jsx)("input",{className:n().inputs,type:"text",placeholder:"اسم المستخدم",value:e.username,onChange:s=>a({...e,username:s.target.value})})]}),(0,t.jsxs)("div",{className:n().inputContainer,children:[(0,t.jsx)("label",{className:n().label,children:"الاسم الكامل"}),(0,t.jsx)("input",{className:n().inputs,type:"text",placeholder:"الاسم الكامل",value:e.name,onChange:s=>a({...e,name:s.target.value})})]}),(0,t.jsxs)("div",{className:n().inputContainer,children:[(0,t.jsx)("label",{className:n().label,children:"رقم المحمول"}),(0,t.jsx)("input",{className:n().inputs,type:"text",placeholder:"رقم المحمول",value:e.phoneNumber,onChange:s=>a({...e,phoneNumber:s.target.value})})]}),(0,t.jsxs)("div",{className:n().inputContainer,children:[(0,t.jsx)("label",{className:n().label,children:"الموقع"}),(0,t.jsx)("input",{className:n().inputs,type:"text",placeholder:" الموقع",value:e.location,onChange:s=>a({...e,location:s.target.value})})]}),(0,t.jsx)("div",{className:n().inputContainer,children:(0,t.jsx)("button",{className:n().editButton,onClick:f,children:"تعديل"})}),(0,t.jsx)("p",{className:n().message,children:o})]})]})},h=s(9008),u=s.n(h),f=s(1163),m=()=>{let{push:e,reload:a}=(0,f.useRouter)();return(0,c.useEffect)(()=>{null==localStorage.getItem("token")&&e("/login")},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u(),{children:(0,t.jsx)("title",{children:"المزرعة - الصفحة الشخصية"})}),(0,t.jsxs)("div",{style:{textAlign:"center"},children:[(0,t.jsx)(i.Z,{}),(0,t.jsx)(r.Z,{}),(0,t.jsx)(p,{}),(0,t.jsx)("hr",{}),(0,t.jsx)(l.Z,{}),(0,t.jsx)("div",{style:{height:"60px",backgroundColor:"#007C21"}})]})]})}},5188:function(e){e.exports={contactUs:"ContactUs_contactUs__mqkMo",social:"ContactUs_social__WoSS5",download:"ContactUs_download__GbXgB"}},165:function(e){e.exports={footer:"Footer_footer__1IwEk"}},4856:function(e){e.exports={footerInfo:"FooterInfo_footerInfo__549ci"}},5533:function(e){e.exports={searchDivWrapper:"NavBar_searchDivWrapper__0SlMw",title:"NavBar_title__suKCP",search:"NavBar_search___IMT9",searchInput:"NavBar_searchInput__aSTaK",icon:"NavBar_icon__r0iRw",logout:"NavBar_logout__LAmZa",plusSign:"NavBar_plusSign__ejm_l",dropdown:"NavBar_dropdown__dnDto",searchButton:"NavBar_searchButton__XdqwS"}},1589:function(e){e.exports={navList:"NavList_navList__oqC8t"}},2485:function(e){e.exports={profileDetails:"ProfileDetails_profileDetails__CHk2n",form:"ProfileDetails_form__ilVZs",profileContainer:"ProfileDetails_profileContainer__ka0og",inputs:"ProfileDetails_inputs__oa5RU",label:"ProfileDetails_label__HpNKj",upload:"ProfileDetails_upload__rZHHJ",editButton:"ProfileDetails_editButton__2_Qwd",message:"ProfileDetails_message__k9yIX"}}},function(e){e.O(0,[445,617,835,774,888,179],function(){return e(e.s=9344)}),_N_E=e.O()}]);