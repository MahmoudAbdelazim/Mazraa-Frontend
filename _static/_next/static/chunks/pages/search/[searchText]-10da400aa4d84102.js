(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[740],{7756:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search/[searchText]",function(){return s(8443)}])},8443:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var r=s(5893),n=s(6666),i=s(458),a=s(4743),c=s(7294),d=s(9551),o=s(6879),l=s.n(o),u=e=>{let{searchText:t}=e,[s,n]=(0,c.useState)([]),[i,a]=(0,c.useState)(!1),[o,u]=(0,c.useState)("");return(0,c.useEffect)(()=>{let e=async()=>{a(!0);var e,s=new Headers;s.append("Content-Type","application/json");var r=JSON.stringify({searchText:t});try{let t=await fetch("https://amber-jellyfish-suit.cyclic.app/products/searchProducts",{method:"POST",headers:s,body:r,redirect:"follow"});if(200===t.status){let s=await t.json();for(let t=0;t<(null===(e=s.products)||void 0===e?void 0:e.length);t++)s.products[t].productPhoto="data:image/png;base64,"+s.products[t].productPhoto;n(s.products),0===s.products.length?u("عفوًا، لا يوجد نتائج لهذا البحث"):u("")}}catch(e){console.error(e)}a(!1)};e()},[t]),(0,r.jsxs)("div",{className:l().products,children:[i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"loading-overlay"}),(0,r.jsx)("div",{className:"loading-overlay-image-container",children:(0,r.jsx)("img",{src:"/images/loading.gif",className:"loading-overlay-img",alt:"Loading GIF"})})]}),(0,r.jsx)("p",{children:o}),s.map(e=>(0,r.jsx)("a",{href:"/product/".concat(e.title.split(" ").join("-")+"--ID--"+e.id),children:(0,r.jsx)(d.Z,{product:e})},e.id))]})},p=s(9008),h=s.n(p),x=s(1163),g=()=>{let e=(0,x.useRouter)(),{searchText:t}=e.query;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h(),{children:(0,r.jsx)("title",{children:"بحث - "+t})}),(0,r.jsxs)("div",{style:{textAlign:"center"},children:[(0,r.jsx)(i.Z,{}),(0,r.jsx)(a.Z,{}),(0,r.jsxs)("div",{style:{paddingTop:"30px",paddingRight:"50px",paddingLeft:"50px"},children:[(0,r.jsx)("h2",{children:"نتائج البحث"}),(0,r.jsx)(u,{searchText:t})]}),(0,r.jsx)("hr",{}),(0,r.jsx)(n.Z,{}),(0,r.jsx)("div",{style:{height:"60px",backgroundColor:"#007C21"}})]})]})}},6879:function(e){e.exports={products:"SearchResults_products__lndWd"}}},function(e){e.O(0,[445,617,115,774,888,179],function(){return e(e.s=7756)}),_N_E=e.O()}]);